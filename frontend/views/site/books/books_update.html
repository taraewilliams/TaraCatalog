<div ng-include="'views/site/subviews/_mainMenu.html'"></div>

<div class="loader" ng-if="!media_clone || !media || !user || !color_scheme || !media_resolved"></div>

<mc-messages class="message-popup"></mc-messages>

<main ng-if="media_clone && media && user && color_scheme && media_resolved">

    <h1>Update Book</h1>

    <form ng-submit="updateMedia(media_clone)">

        <label for="title">Title<br>
            <input type="text" name="title" id="title" ng-model="media_clone.title" placeholder="Title..."><br>
            Select From Existing:
            <select ng-model="media_clone.old_title" ng-options="title.title for title in titles" ng-change="updateForSelectValue(media_clone.old_title.title, 'title')"></select>
        </label>

        <label for="series">Series<br>
            <input type="text" name="series" id="series" ng-model="media_clone.series" placeholder="Series..."><br>
            Select From Existing:
            <select ng-model="media_clone.old_series" ng-options="single_series.series for single_series in series" ng-change="updateForSelectValue(media_clone.old_series.series, 'series')"></select>
        </label>

        <label for="author">Author<br>
            <input type="text" name="author" id="author" ng-model="media_clone.author" placeholder="Author..."><br>
            Select From Existing:
            <select ng-model="media_clone.old_author" ng-options="author.author for author in authors" ng-change="updateForSelectValue(media_clone.old_author.author, 'author')"></select>
        </label>

        <label for="volume">Volume<br>
            <input type="number" name="volume" id="volume" ng-model="media_clone.volume" placeholder="Volume...">
        </label>

        <label for="isbn">ISBN<br>
            <input type="text" name="isbn" id="isbn" ng-model="media_clone.isbn" placeholder="ISBN...">
        </label>

        <label for="cover_type">Cover Type<br>
            <input type="radio" ng-model="media_clone.cover_type" value="Paperback"> Paperback<br>
            <input type="radio" ng-model="media_clone.cover_type" value="Hardcover"> Hardcover<br>
        </label>

        <label for="content_type">Content Type<br>
            <input type="radio" ng-model="media_clone.content_type" value="Novel"> Novel<br>
            <input type="radio" ng-model="media_clone.content_type" value="Manga"> Manga<br>
            <input type="radio" ng-model="media_clone.content_type" value="Comic Book"> Comic Book<br>
        </label>

        <label for="genre">Genre<br>
            <input type="text" name="genre" id="genre" ng-model="media_clone.genre" placeholder="Genre..."><br>
            Select From Existing:
            <select ng-model="media_clone.old_genre" ng-options="genre.genre for genre in genres" ng-change="updateForSelectValue(media_clone.old_genre.genre, 'genre')"></select>
        </label>

        <label for="complete_series">Complete Series<br>
            <input type="radio" ng-model="media_clone.complete_series" value="Complete"> Complete<br>
            <input type="radio" ng-model="media_clone.complete_series" value="Incomplete"> Incomplete<br>
            <input type="radio" ng-model="media_clone.complete_series" value="Standalone"> Standalone<br>
        </label>

        <label for="location">Location<br>
            <input type="radio" ng-model="media_clone.location" value="Apartment"> Apartment<br>
            <input type="radio" ng-model="media_clone.location" value="Home"> Home<br>
        </label>

        <label for="notes">Notes<br>
            <textarea name="text" ng-model="media_clone.notes" placeholder="Notes..."></textarea>
        </label>

        <label for="image">Image<br>
            <input type="file" name="image" file-display file-model="media_clone.image" placeholder="Image...">
            <img ng-if="hasChanged(media_clone.image)" id="image" alt="Preview Book Image" />
            <img ng-if="!isEmpty(media_clone.image) && !hasChanged(media_clone.image)" ng-src="../backend/public/{{media_clone.image}}" alt="Preview Book Thumbnail" />
        </label>

        <button type="submit">Update</button>

    </form>


</main>
